<!DOCTYPE html>
<html>
  <head>
    <title>Musical Preference Survey</title>
    <script src="jspsych-master/jspsych.js"></script>
    <script src="jspsych-master/plugins/jspsych-html-keyboard-response.js"></script>
    <script src="jspsych-master/plugins/jspsych-audio-slider-response.js"></script>
    <script src="jspsych-master/plugins/jspsych-html-button-response.js"></script>
    <link href="jspsych-master/css/jspsych.css" rel="stylesheet" type="text/css"></link>
  </head>
  <body></body>
  <script>

    var timeline = [];

    var welcome = {
      type: "html-keyboard-response",
      stimulus: "Welcome! Press any key to begin."
    };
    timeline.push(welcome);

    var instructions = {
      type: "html-button-response",
      stimulus: 'In this experiment, you will hear several short clips of ' +
          'different songs. After each clip, you will be asked to rate it on a ' +
          'likeability scale, from one to seven.',
          choices: ['Continue']
      post_trial_gap: 2500
    };
    timeline.push(instructions);

    var pre_audio = {
      type: 'html-button-response',
      stimulus: 'Recent versions of Chrome require the user to interact with a page before it can play audio. '+
      'Clicking the button below counts as an interaction. Be aware of this when planning audio experiments if '+
      'you want the first trial to include audio.',
      choices: ['Continue']
    };
    timeline.push(pre_audio)

    var judgement_trials = {
      timeline: [
        {
          type: 'audio-slider-response',
          stimulus: jsPsych.timelineVariable('clip'),
          labels: ['I hated it', 'I loved it'],
          prompt: '<p>What did you think of the song?</p>',
        }
  ]
        timeline_variables: [
        { clip: 'The Buuls-Zebra.mp3'},
        { clip: 'Face_02.wav'},
        { clip: 'The Buuls-Zebra.mp3'}
      ],
        randomize_order=true
    };
    timeline.push(judgement_trials);

    jsPsych.init({
      timeline: timeline,
      use_webaudio: false,
      on_finish: function() {
        jsPsych.data.displayData();
      },
      default_iti: 250
    });

  </script>
</html>
